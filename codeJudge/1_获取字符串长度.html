<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>获取字符串长度</title>
</head>

<body>

</body>
<script>
  /* 
    如果第二个参数 bUnicode255For1 === true，则所有字符长度为 1
    否则如果字符 Unicode 编码 > 255 则长度为 2 
    输入：'hello world, 牛客', false
    输出： 17
  */
  window.onload = function(){
    let leng = strLength('hello world, 牛客', true)
    console.log(leng)
  }
  function strLength(s, bUnicode255For1) {
    if(bUnicode255For1 === true){
      return s.length
    }else{
      let len = s.length;
      console.log(len)
      for(let i = 0; i < s.length; i++){
        console.log(s.charCodeAt(i))
        if(s.charCodeAt(i) > 255){
          len++
        }
      }
      return len
    }

  }
</script>

</html>